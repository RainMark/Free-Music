#+title: Free-Music
Free Music (FM) is a open source music player. It's a local mp3 player before version 3.In version 3, we cut the local play function.Finally, it became to a online music player.
The development of FM is very slow, we hope more and more programmers can get involved in this project.
Below is a introduction of this project, I hope that it is usefull.

* Overview
[[./pic/login.png]]
[[./pic/play.png]]
[[./pic/find.png]]
[[./pic/like.png]]
[[./pic/addto.png]]
* Get source code
#+BEGIN_SRC shell
git clone https://github.com/RainMark/Free-Music.git
#+END_SRC
\\
Project Directory Tree
#+BEGIN_SRC txt
.
├── library
│   ├── 0000000001
│   ├── 0000000002
│   ├── 0000000003
│   ├── 0000000004
│   └── 0000000005
├── LICENSE
├── pic
│   ├── fm-add.png
│   ├── fm-like.png
│   ├── fm-login.png
│   ├── fm-main.png
│   └── fm-serarch.png
├── README.org
├── resources
│   └── free-music.ui
└── src
    ├── client
    │   ├── mpg123_api.c
    │   ├── client.c
    │   ├── css-style
    │   │   ├── cssview.css
    │   │   ├── free-music.css
    │   │   └── reset.css
    │   ├── get.sh
    │   ├── include
    │   │   ├── client.h
    │   │   ├── list.h
    │   │   ├── main.h
    │   │   ├── mpg123_api.h
    │   │   ├── player.h
    │   │   └── search.h
    │   ├── list.c
    │   ├── main.c
    │   ├── Makefile
    │   ├── player.c
    │   └── search.c
    ├── db
    │   ├── init.sql
    │   └── insert.sql
    ├── include
    │   └── common.h
    └── server
        ├── include
        │   ├── server.h
        │   └── sql.h
        ├── Makefile
        ├── server.c
        └── sql.c

11 directories, 38 files
#+END_SRC
* Setup Development Environment
- Prepare a linux system like ubuntu 16.04
- Install GTK3 dev and mysqlclient dev library.
#+BEGIN_SRC shell
sudo apt-get install libgtk-3-dev libmysqlclient-dev mpg123 git
#+END_SRC
- Install mysql/ftp server to test code.
#+BEGIN_SRC shell
sudo apt-get install mysql-server vsftpd
#+END_SRC
- Create FM test table and insert the test data.
#+BEGIN_SRC shell
cd Free-Music/src/db
mysql -u root -p
#+END_SRC
#+BEGIN_SRC sql
\. init.sql
\. insert.sql
#+END_SRC
- Test environment. (It's ok if compile successfully)
#+BEGIN_SRC shell
cd ../server
make
./fmd &
cd ../client
make
./free-music
#+END_SRC
- Please look up the "get.sh" script and function "int fetch_song(const char *id);" in "client.c" in order to setup ftp server.

* Start To Develop
- Folow this link to lean gtk3 quickly.\\
  http://www.cnblogs.com/rain-blog/p/gtk3-1.html
- Read the other source code.
- Modify this project.

* Developer
- Rain          : rain.by.zhou@gmail.com \\
- EggRoll       : 13924786328@139.com
